!function(e,t){function a(){t.location.hash.startsWith("#join-the-beta")&&t.HYPopup.openPopup("join-beta")}function s(){t.location.hash.startsWith("#join-the-beta")&&t.HYPopup.openPopup("join-beta")}e(document).ready((function(){t.location.hash.startsWith("#invite:")&&t.HYPopup.openPopup("join-beta"),a(),t.addEventListener("hashchange",(function(){a()})),function(){const t=e("[data-copy-button]"),a=e("[data-copy-link]");t.on("click",(function(){link=a.val(),navigator.clipboard.writeText(link),t.toggleClass("is-copied")}))}(),function(){t.location.hash.startsWith("#invite:")&&(t.HYPopup.openPopup("join-beta"),e("[data-join-beta-referer]").addClass("is-referer"));t.addEventListener("hashchange",(function(){s()})),s()}()}))}(jQuery,window);class HomeyBeta{$premium;premiumFrameNumber=0;premiumFrames=31;images;locale;constructor(){const e=$(".homey-beta"),t=e.find("[data-typewriter]");t.children().addBack().contents().each((function(){if(3===this.nodeType&&/\S/.test(this.textContent)){var e=$(this);e.replaceWith(e.text().replace(/(\w|\W|\.|\s)/g,"<b>$&</b>"))}}));const a=t.find("b"),s=new HYIntersectionObserver({rootMargin:"-0% 0% 0% 0%",thresholds:200}),o=e.find('[data-observe="everyone"]');s.addTarget(o[0],(e,t)=>{let s=1;t.isTopIn()&&(s=t.getPercentage(.5,1));let o=Math.ceil(s*a.length);a.each((e,a)=>{(e+=1)<o?($(a).addClass("o"),$(a).removeClass("c")):e===o?($(a).addClass("o"),t.isTopIn()&&$(a).addClass("c")):t.isTopIn()&&($(a).removeClass("o"),$(a).removeClass("c"))})});const n=new HYIntersectionObserver({rootMargin:"0% 0%",thresholds:200}),i=e.find('[data-observe="parallax-below"]'),r=e.find('[data-observe="smart-home"]'),c=e.find('[data-observe="upgrade"]'),d=e.find('[data-observe="bridge"]'),p=e.find('[data-observe="bridge-sideview"]'),m=e.find('[data-observe="bridge-closeup"]');var u=100,h=-79;n.addTarget(i[0],(e,t)=>{let a=t.getPercentage(),s=100,o=100,n=-79;t.isTopOut()&&(s=Math.round(100*a*10)/10,o=Math.round(100*a),n=Math.round(100*a*-.794)),r.css("--obs-translate-y",s+"px"),o!==u&&n!==h&&(r.css("--obs-sh-translate-y",o+"px"),r.css("--obs-sh-translate-x",n+"px"),u=o,h=n)}),n.addTarget(r[0],(e,t)=>{let a=t.getPercentage(),s=100,o=1;t.isTopIn()&&(o=a),t.isTopOut()&&(s=Math.round(100*a*10)/10),r.css("--obs-opacity",o),c.css("--obs-translate-y",s+"px")}),n.addTarget(c[0],(e,t)=>{let a=t.getPercentage(),s=1,o=100;t.isTopIn()&&(s=a),t.isTopOut()&&(o=Math.round(100*a*10)/10),c.css("--obs-opacity",s),d.css("--obs-translate-y",o+"px")}),n.addTarget(p[0],(e,t)=>{if(t.isTopIn()){let e=t.getPercentage(),a=t.getTimePast(),s=25-25*e;p.css("--obs-translate-x",s+"%"),p.css("--obs-transition-duration",a+"ms"),d.css("--obs-opacity",e)}}),n.addTarget(m[0],(e,t)=>{if(t.isTopIn()){let e=t.getPercentage(),a=t.getTimePast(),s=25*e-25;m.css("--obs-translate-x",s+"%"),m.css("--obs-transition-duration",a+"ms")}});const l=new HYIntersectionObserver({rootMargin:"0% 0% -25% 0%",thresholds:200});this.$premium=e.find('[data-observe="premium"]'),l.addTarget(this.$premium[0],(e,t)=>{let a=t.getPercentage();t.isTopIn()&&(this.premiumFrameNumber=Math.ceil(a*this.premiumFrames),this.premiumFrameNumber=Math.max(this.premiumFrameNumber,1),this.premiumFrameNumber=Math.min(this.premiumFrameNumber,31),this.$premium.css({"object-position":`0 ${3.3333*(this.premiumFrameNumber-1)}%`}))})}}jQuery(document).ready((function(){new HomeyBeta}));