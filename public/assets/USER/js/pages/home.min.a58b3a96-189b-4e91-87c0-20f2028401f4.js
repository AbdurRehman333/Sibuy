!function(e){"use strict";e(document).ready((function(){const t=e("[data-apps-bloom-root]");let s=!1;document.querySelectorAll("[data-apps-bloom-svg] path").forEach(t=>{const s=Math.round(t.getTotalLength());e(`[data-apps-bloom-target="${t.id}"]`).css("height",s/2+"px"),t.style.setProperty("--length",s+"px")});const a=new HYIntersectionObserver({rootMargin:"-20%",thresholds:60}),i=new HYIntersectionObserver({rootMargin:"20% 0% 40%",thresholds:1}),n=e('[data-home-section-item="apps-bloom"]')[0];i.addTarget(n,(i,n)=>{i.isIntersecting&&!1===s?(s=!0,t.each((t,s)=>{const i=e(s),n=i.data("apps-bloom-target"),o=e("#"+n);a.addTarget(s,(e,t)=>{(t.isBottomIn()||1===t.getPercentage())&&window.requestAnimationFrame(()=>{o.css("--percentage",t.getPercentage().toFixed(2))})})})):i.isIntersecting||!0!==s||(s=!1,t.each((e,t)=>{a.removeTarget(t)}))})}))}(jQuery),function(e,t){"use strict";e(document).ready((function(){const s=e(t),a=e("[data-apps-list-container]"),i=e("[data-apps-list-dragger]"),n=e("[data-apps-list-content]"),o=e("[data-apps-list-dots]");new HYSlider({$:e,$window:s,$container:a,$dragger:i,$content:n,$dots:o,manualWidth:{xs:304,md:304}}).init()}))}(jQuery,window);class AssistantsWatchModel{isMouseDown=!1;mouseDownY=0;transformY=0;maxTransformY=0;relY=0;constructor(e,t){this.$watchModel=e,this.$time=e.find("[data-watch-model-time]"),this.$content=e.find("[data-watch-model-content]"),this.$dragger=e.find("[data-watch-model-dragger]"),this.$body=$("body"),this.$window=$(t),this.maxTransformY=Math.round(this.$content.height()-this.$dragger.outerHeight()),this.FlowTileObserver=new HYIntersectionObserver({root:this.$content[0],thresholds:20}),this.FlowTiles=$("[data-watch-flow-tile]")}init(){this.initTouchScreen(),this.initObServer(),setInterval(this.updateTime,1e4)}destroy(){this.destroyTouchScreen(),this.destroyObServer(),clearInterval(this.updateTime)}updateTime=()=>{const e=new Date,t=e.getHours();let s=e.getMinutes();s<10&&(s="0"+s),this.$time.html(`${t}:${s}`)};initTouchScreen(){this.$content.on("mousedown.touchscreen",e=>{this.isMouseDown=!0,this.mouseDownY=e.pageY,this.$body.addClass("user-select-none"),this.$body.on("mouseup.dragger, mouseleave.dragger",()=>{this.$body.removeClass("user-select-none"),this.$watchModel.removeClass("is-dragging"),this.isMouseDown&&(this.isMouseDown=!1,this.transformY+=this.relY,this.$body.off("mouseup.dragger"),this.$window.off("mousemove.dragger,  mouseleave.dragger"),this.bounceTouchScreen())}),this.$window.on("mousemove.dragger",e=>{if(this.isMouseDown){this.relY=e.pageY-this.mouseDownY,0!==this.relY&&this.$watchModel.addClass("is-dragging");let t=this.calcMaxBounce(this.transformY+this.relY);window.requestAnimationFrame(()=>{this.$dragger.css("--watch-model-transformY",t+"px")})}})})}destroyTouchScreen(){this.$content.off("mousedown.touchscreen"),this.$body.off("mouseup.dragger"),this.$window.off("mousemove.dragger,  mouseleave.dragger")}bounceTouchScreen(){(this.transformY>0||this.transformY<this.maxTransformY)&&(this.transformY=Math.min(0,Math.max(this.transformY,this.maxTransformY)),this.$dragger.addClass("is-bounce"),this.$dragger.css("--watch-model-transformY",this.transformY+"px"),setTimeout(()=>{this.$dragger.removeClass("is-bounce")},250))}calcMaxBounce(e){if(e<this.maxTransformY){let t=e-this.maxTransformY;e=this.maxTransformY-Math.round(50-50*Math.exp(t/50))}else if(e>0){let t=0-e;e=Math.round(50-50*Math.exp(t/50))}return e}initObServer(){this.FlowTiles.each((e,t)=>{const s=$(t);this.FlowTileObserver.addTarget(t,(e,t)=>{window.requestAnimationFrame(()=>{s.css("--watch-flow-tile-percentage",t.getPercentage())})})})}destroyObServer(){this.FlowTiles.each((e,t)=>{this.FlowTileObserver.removeTarget(t)})}}class AssistantsAnimation{"use strict";$bloom;$provider;$command;$balloon;$avatars;$assistants;$logo;timeOverlap=-50;animationDurationCircle=500;paths={};isPlaying=!1;viewportSize="desktop";playRequest=!1;cycle=0;current=!1;config=[{id:"google",providerText:I18N["pages.home.integrations.assistants.config.google.providerText"],commandText:I18N["pages.home.integrations.assistants.config.google.commandText"],targets:[4,5,8]},{id:"alexa",providerText:I18N["pages.home.integrations.assistants.config.alexa.providerText"],commandText:I18N["pages.home.integrations.assistants.config.alexa.commandText"],targets:[11]},{id:"siri",providerText:I18N["pages.home.integrations.assistants.config.siri.providerText"],commandText:I18N["pages.home.integrations.assistants.config.siri.commandText"],targets:[2,4,5,9,10,11]}];Viewport=new HYViewport;constructor(){this.$bloom=$("[data-home-assistants-bloom]"),this.$provider=$("[data-home-assistants-mic-provider]"),this.$command=$("[data-home-assistants-mic-command]"),this.$balloon=$("[data-home-assistants-balloon]"),this.$avatars=$("[data-home-assistants-avatar]"),this.$assistants=$("[data-home-assistant]"),this.$logo=$("[data-home-assistant-logo]"),this.Viewport.onInitResize(e=>{switch(e){case"xs":this.viewportSize="mobile";break;default:this.viewportSize="desktop"}this.init()},["xs","md"])}init(){this.setPathD();document.querySelectorAll("[data-home-assistants-bloom-svg] path[data-line]").forEach(e=>{const t=$(e),s=e.dataset.line,a=Math.round(e.getTotalLength()),i=3*a;this.paths[s]={$line:t,length:a,duration:i},t.css("--stroke-dash",a+"px"),t.css("--animation-duration",i+"ms")})}setPathD(){const e={mobile:"data-mobile-d",desktop:"data-desktop-d"};document.querySelectorAll("[data-home-assistants-bloom-svg] path").forEach(t=>{if(t.getAttribute(e.desktop)||t.setAttribute(e.desktop,t.getAttribute("d")),t.getAttribute(e[this.viewportSize])){const s=t.getAttribute(e[this.viewportSize]);t.setAttribute("d",s)}})}async start(){if(this.playRequest=!0,!0!==this.isPlaying){this.isPlaying=!0;do{if(!0!==this.playRequest||!0!==this.isPlaying){this.isPlaying=!1,this.playRequest=!1;break}this.current=this.config[this.cycle],await this.loopCycle(),this.cycle++,this.cycle===this.config.length&&(this.cycle=0)}while(this.cycle<this.config.length)}}async stop(){this.playRequest=!1}async loopCycle(){this.$balloon.removeClass("is-out"),this.$balloon.addClass("is-in"),this.$avatars.removeClass("is-visible"),$(this.$avatars[this.cycle]).addClass("is-visible"),await this.highlightAssistant(),await this.sayCommand(this.current.providerText,this.$provider),await this.sayCommand(this.current.commandText,this.$command),await this.highlightLineAndFollowUp([this.current.id],this.$logo),await this.highlightLineAndFollowUp(this.current.targets),await this.intermezzo(1e3),await this.removeHighlightAssistant(),await this.removeHighlightLineAndFollowUp([this.current.id],this.$logo),await this.removeHighlightLineAndFollowUp(this.current.targets),await this.clean()}sayCommand(e,t){e=e.split(" ");return new Promise(s=>{this.sayWord(s,e,t,0)})}sayWord(e,t,s,a){let i=t[a],n=`<span>${i}</span> `,o=70*i.length,r=o;i.indexOf(",")>0&&(r=o+500),this.$bloom.css("--voice-opacity",1),this.$bloom.css("--voice-time",o+"ms"),s.append(n),a++,setTimeout(()=>{this.$bloom.css("--voice-opacity",0),this.$bloom.css("--voice-time","800ms")},r/2),setTimeout(()=>{a<t.length?this.sayWord(e,t,s,a):e()},r)}clean(){return new Promise(e=>{this.$provider.empty(),this.$command.empty(),this.$balloon.removeClass("is-in"),this.$balloon.addClass("is-out"),setTimeout(()=>{e()},1e3)})}highlightAssistant(){return new Promise(e=>{$(`[data-home-assistant="${this.current.id}"]`).addClass("is-animation-in"),setTimeout(()=>{e()},0)})}removeHighlightAssistant(){return new Promise(e=>{const t=$(`[data-home-assistant="${this.current.id}"]`);t.removeClass("is-animation-in"),t.addClass("is-animation-out"),setTimeout(()=>{t.removeClass("is-animation-out"),e()},0)})}highlightLineAndFollowUp(e,t=!1){return new Promise(s=>{let a=0;e.forEach(e=>{a=Math.max(a,this.paths[e].duration);this.paths[e].$line.addClass("is-animation-in"),setTimeout(()=>{t?(t.addClass("is-animation-in"),s()):$(`[data-app="${e}"]`).addClass("is-animation-in")},this.paths[e].duration-this.timeOverlap)}),setTimeout(()=>{s()},a)})}removeHighlightLineAndFollowUp(e,t=!1){return new Promise(s=>{let a=0;e.forEach(e=>{a=Math.max(a,this.paths[e].duration);const i=this.paths[e].$line;i.removeClass("is-animation-in").addClass("is-animation-out"),setTimeout(()=>{if(i.removeClass("is-animation-out"),t)t.removeClass("is-animation-in").addClass("is-animation-out"),setTimeout(()=>{t.removeClass("is-animation-out")},this.animationDurationCircle),s();else{const t=$(`[data-app="${e}"]`);t.removeClass("is-animation-in").addClass("is-animation-out"),setTimeout(()=>{t.removeClass("is-animation-out")},this.animationDurationCircle)}},this.paths[e].duration-this.timeOverlap)}),setTimeout(()=>{s()},a)})}intermezzo(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}}!function(e,t){"use strict";const s=e(t);let a,i,n;function o(){let e=Math.round(s.scrollTop()),o=i/n.maxTransformY,r=n.maxTransformY-(a-e)/o;r=Math.min(0,Math.max(r,n.maxTransformY)),t.requestAnimationFrame(()=>{n.$dragger.css("--watch-model-transformY",r+"px")})}e(document).ready((function(){const r=new HYIntersectionObserver({thresholds:10}),h=e('[data-home-section-item="assistants-bloom"]')[0],d=new AssistantsAnimation;r.addTarget(h,(function(e,t){t.getPercentage()>=.5&&!1===d.playRequest&&d.start(),t.getPercentage()<.1&&d.stop()}));const c=e("[data-widget-flow-tile]");c.on("click",(function(){const t=e(this);t.addClass("is-playing"),setTimeout(()=>{t.addClass("is-done")},500),setTimeout(()=>{t.removeClass("is-done").removeClass("is-playing")},2e3)}));const l=e('[data-home-section-item="assistants-widgets"]')[0],m=e(l);r.addTarget(l,(function(t,s){s.getPercentage()>=.9&&!1===p&&(m.addClass("is-animation-in"),setTimeout(()=>{e(c[3]).trigger("click")},2e3))}));const u=e("[data-watch-model]");n=new AssistantsWatchModel(u,t);const g=e('[data-home-section-item="assistants-watch"]');let p=!1;r.addTarget(g[0],(function(t,r){r.getPercentage()>=.1&&!1===p?(p=!0,n.init(),a=e(u[0]).offset().top,i=s.height(),s.on("scroll.watch",o)):r.getPercentage()<.1&&(p=!1,n.destroy(),s.off("scroll.watch"))}))}))}(jQuery,window),function(e){"use strict";e(document).ready((function(){const t=e('[data-home-darkmode-trigger="1"]')[0],s=e('[data-home-darkmode-target="1"]');new HYIntersectionObserver({thresholds:10}).addTarget(t,(function(e,t){t.getPercentage()>=.5?(s.addClass("darkmode"),s.addClass("darkmode-fade-in"),setTimeout((function(){s.removeClass("darkmode-fade-in")}),1e3)):t.getPercentage()<.5&&(s.removeClass("darkmode"),s.addClass("darkmode-fade-out"),setTimeout((function(){s.removeClass("darkmode-fade-out")}),1e3))}))}))}(jQuery),function(e){"use strict";let t,s,a;e(document).ready((function(){const i=e('[data-home-section-item="device-controls"]')[0],n=new HYIntersectionObserver({thresholds:10});let o=!1;const r=e(window),h=e("[data-home-controls-container]"),d=e("[data-home-controls-dragger]"),c=e("[data-home-controls-content]"),l=e("[data-home-controls-dots]");new HYSlider({$:e,$window:r,$container:h,$dragger:d,$content:c,$dots:l,manualWidth:{xs:293,md:293}}).init(),e("[data-home-control-tabs]").each((i,n)=>{const o=e(n),r=o.find("[data-home-control-tabs-target]"),h=o.find("[data-home-control-tabs-item]");let d=1,c=!1;r.on("click",(function(){const i=e(this);r.removeClass("is-active"),i.addClass("is-active");const n=i.data("home-control-tabs-target");switch(h.removeClass("is-active"),h.removeClass("is-previous-active"),o.find(`[data-home-control-tabs-item=${d}]`).addClass("is-previous-active"),o.find(`[data-home-control-tabs-item=${n}]`).addClass("is-active"),setTimeout((function(){o.find(`[data-home-control-tabs-item=${d}]`).removeClass("is-previous-active"),d=n}),500),n){case 1:let i=18,n=24,o=Math.round(2*(Math.random()*(n-i)+i))/2;t.setTargetTemperature(o);break;case 2:if(!0===c)return;c=!0,setTimeout(()=>{e(s.$buttons[7]).trigger("click")},750);break;case 3:setTimeout(()=>{e("[data-home-phone-screen-motion]").addClass("is-active")},750);break;case 4:setTimeout(()=>{e("[data-home-phone-screen-lock]").addClass("is-active")},750);break;case 5:setTimeout(()=>{a.togglePlay()},750);break;case 6:setTimeout(()=>{e("[data-home-phone-screen-plug]").addClass("is-active")},750);break;case 7:setTimeout(()=>{e('[data-home-phone-screen-curtains="stop"]').removeClass("is-active"),e('[data-home-phone-screen-curtains="down"]').addClass("is-active")},750)}}))}),t=new deviceControlsThermostat,n.addTarget(i,(function(e,s){s.getPercentage()>=.9&&!1===o&&(t.startAnimation(),o=!0)})),s=new deviceControlsLight;e("[data-home-phone-screen-lock]").on("click",(function(){e(this).toggleClass("is-active")}));e("[data-home-phone-screen-plug]").on("click",(function(){e(this).toggleClass("is-active")}));const m=e("[data-home-phone-screen-curtains]");m.on("click",(function(){const t=e(this);m.removeClass("is-active"),t.addClass("is-active")})),a=new deviceControlsMedia}))}(jQuery);class deviceControlsLight{"use strict";constructor(){this.$buttonGroup=$("[data-home-phone-screen-light-colors]"),this.$buttons=$("[data-home-phone-screen-light-color]"),this.$bg=$("[data-home-phone-screen-light-bg]"),this.depthPick=!1,this.$buttons.each((e,t)=>{var s=$(t);s.on("click",t=>{if(!this.depthPick||0!==e){let e=s.css("--color");this.$bg.css("--color",e)}const a=$(t.currentTarget);if(this.depthPick&&0===e)this.depthPick=!1,this.$buttonGroup.removeClass("is-depth"),this.$buttonGroup.addClass("is-not-depth"),this.$buttons.each((e,t)=>{var s=$(t),a=s.data("home-phone-screen-light-color");s.css("--color",a)});else if(!this.depthPick){this.depthPick=!0,this.$buttonGroup.removeClass("is-not-depth"),this.$buttonGroup.addClass("is-depth");var i=a.data("home-phone-screen-light-color");this.$buttons.each((e,t)=>{var s=$(t);let a=(16-2*e).toString(16);s.css("--color",`${i}${a}${a}`)})}})})}}class deviceControlsMedia{"use strict";constructor(){this.initButtonPlay(),this.initButtonShuffle(),this.initButtonRepeat()}initButtonPlay(){this.$playButton=$('[data-home-phone-screen-media="play"]'),this.$playButton.on("click",()=>{this.togglePlay()})}togglePlay(){this.$playButton.hasClass("is-playing")?(this.$playButton.removeClass("is-playing"),this.$playButton.find(".mask-media-speaker-play").removeClass("is-hidden"),this.$playButton.find(".mask-media-speaker-pause").addClass("is-hidden")):(this.$playButton.addClass("is-playing"),this.$playButton.find(".mask-media-speaker-play").addClass("is-hidden"),this.$playButton.find(".mask-media-speaker-pause").removeClass("is-hidden"))}initButtonShuffle(){$('[data-home-phone-screen-media="shuffle"]').on("click",(function(){$(this).toggleClass("is-active")}))}initButtonRepeat(){const e=$('[data-home-phone-screen-media="repeat"]');let t=0;e.on("click",(function(){const e=$(this);0===t?(e.addClass("is-active"),t=1):1===t?(e.find(".mask-media-speaker-repeat-list").removeClass("is-hidden"),e.find(".mask-media-speaker-repeat").addClass("is-hidden"),t=2):(t=0,e.removeClass("is-active"),e.find(".mask-media-speaker-repeat-list").addClass("is-hidden"),e.find(".mask-media-speaker-repeat").removeClass("is-hidden"))}))}}class deviceControlsThermostat{"use strict";thermoState={min:5,max:35,ringDegree:315};constructor(){this.$temperatureCurrent=$("[data-home-thermostat-current]"),this.$temperatureTarget=$("[data-home-thermostat-target]"),this.$handler=$("[data-home-thermostat-handler]"),this.$stripes=$("[data-home-thermostat-stripe]"),this.$thermostat=$("[data-home-thermostat]"),this.$towardsHeating=$('[data-home-thermostat-towards="heating"]'),this.$towardsCooling=$('[data-home-thermostat-towards="cooling"]'),this.$ring=$("[data-home-thermostat-ring]"),this.temperatureTarget=parseInt(this.$temperatureTarget.data("home-thermostat-target")),this.temperatureCurrent=parseInt(this.$temperatureCurrent.data("home-thermostat-current")),this.temperature=this.temperatureCurrent,this.setThermostatTemperatures(19.5,17),this.setThermostatHandler()}startAnimation(){this.animateTemperature()}setTargetTemperature(e){this.temperatureTarget=e,this.animateTemperature()}animateTemperature(){let e=setInterval(()=>{this.temperature<this.temperatureTarget?this.temperature+=.5:this.temperature>this.temperatureTarget&&(this.temperature-=.5),this.setThermostatTemperatures(this.temperatureCurrent,this.temperature),this.temperature===this.temperatureTarget&&clearInterval(e)},100)}setThermostatHandler(){this.$handler.on("mousedown",()=>{$(document).on("mousemove.thermostat",e=>{let t=this.$ring.offset(),[s,a]=[e.pageX,e.pageY],i=Math.atan2(t.top-a,t.left-s),n=Math.PI,o=360*(i>0?i:2*n+i)/(2*n);o+=45,o=o>360?o-360:o,o>this.thermoState.ringDegree?o=0:o>270&&(o=270);let r=(this.thermoState.max-this.thermoState.min)/270*o+this.thermoState.min;this.temperatureTarget=Math.round(2*r)/2,this.setThermostatTemperatures(this.temperatureCurrent,this.temperatureTarget)}),$(document).on("mouseup.thermostat",()=>{$(document).off("mousemove.thermostat"),$(document).off("mouseup.thermostat")})})}setThermostatTemperatures(e,t){const s=$(`[data-home-thermostat-stripe="${e}"]`);let a=((t-this.thermoState.min)*(this.thermoState.ringDegree/this.thermoState.max)-(360-this.thermoState.ringDegree)).toFixed(2);this.$handler.css("--r",a+"deg"),this.$stripes.removeClass("is-current"),s.addClass("is-current");this.$stripes.each((s,a)=>{const i=$(a);(s=>e<t?s>e&&s<t:s>t&&s<e)(i.data("home-thermostat-stripe"))?i.addClass("is-between"):i.removeClass("is-between")}),e>t?(this.$thermostat.addClass("is-hotter"),this.$towardsCooling.addClass("is-active"),this.$towardsHeating.removeClass("is-active")):(this.$thermostat.removeClass("is-hotter"),this.$towardsCooling.removeClass("is-active"),this.$towardsHeating.addClass("is-active")),this.$temperatureCurrent.text(e.toFixed(1)),this.$temperatureTarget.text(t.toFixed(1))}}!function(e){"use strict";e(document).ready((function(){const t=e("[data-home-device-tile]"),s=e('[data-home-section-item="device-tiles"]')[0];new HYIntersectionObserver({thresholds:10}).addTarget(s,(function(t,s){s.getPercentage()>=.5&&e(t.target).addClass("is-in-viewport")})),t.on("click",(function(){e(this).toggleClass("is-non-active")}))}))}(jQuery),function(e){"use strict";e(document).ready((function(){const t=e('[data-home-section="devices"]')[0];new HYIntersectionObserver({thresholds:10}).addTarget(t,(function(t,s){s.getPercentage()>=.1?e("[data-home-intro-more]").addClass("is-hidden"):e("[data-home-intro-more]").removeClass("is-hidden")}))}))}(jQuery),function(e){e(document).ready((function(){const t=e("[data-home-energy-batteries-observer]"),s=e("[data-home-energy-battery]");new HYIntersectionObserver({thresholds:10}).addTarget(t[0],(t,a)=>{a.getPercentage()>.75&&e(s[3]).addClass("is-in-viewport"),a.getPercentage()>.5&&e(s[2]).addClass("is-in-viewport"),a.getPercentage()>.25&&e(s[1]).addClass("is-in-viewport"),a.getPercentage()>0&&e(s[0]).addClass("is-in-viewport")})}))}(jQuery);class EnergyEstimationGraph{startTimestamp;previousTimestamp;isDrawing=!1;points;latestPointLength;currentPercentage=0;minWatt=.5;maxWatt=12.5;settingsDefault={spaceY:150,spaceX:15,speed:1e3,fillNumber:20};settings=this.settingsDefault;isAnimationFirstTime=!1;isGenerateRandomPercentage=!1;UID=!1;constructor(){this.line=document.querySelector("[data-home-energy-estimation-line]"),this.$line=$("[data-home-energy-estimation-line]"),this.$lineFill=$("[data-home-energy-estimation-line-fill]"),this.$verticalRuler=$("[data-home-energy-estimation-vertical-ruler]"),this.$lineGroup=$("[data-home-energy-estimation-line-group]"),this.$text=$("[data-home-energy-estimation-text]"),this.$marker=$("[data-home-energy-estimation-graph-marker]"),this.$device=$("[data-home-energy-estimation-device]")}init(){this.points=new Array(this.settings.fillNumber),this.points.fill(this.calcYPoint())}start(e){this.isDrawing||(this.isDrawing=!0,this.drawGraphLine(e),window.requestAnimationFrame(e=>this.animateGraph(e)))}stop(){this.isDrawing=!1,this.startTimestamp=void 0,this.previousTimeStamp=void 0}animateGraph(e){this.isDrawing&&window.requestAnimationFrame(e=>this.animateGraph(e)),void 0===this.startTimestamp&&(this.startTimestamp=e);const t=e-this.startTimestamp;if(this.previousTimeStamp!==e){let e=t/this.settings.speed*this.settings.spaceX+2*this.settings.spaceX,s=e+16*this.settings.spaceX;this.$lineGroup.css("transform",`translateX(${-1*e.toFixed(1)}px)`),this.$verticalRuler.css("transform",`translateX(${s.toFixed(1)}px)`);let a=Math.floor(this.line.getTotalLength());this.moveMarker(this.line,a,s)}this.previousTimeStamp=e}generateRandomPercentage(e){this.isGenerateRandomPercentage&&(e(this.currentPercentage),this.currentPercentage=20+50*Math.random(),this.random=setTimeout(()=>{this.generateRandomPercentage(e)},this.settings.speed))}drawGraphLine(e){if(this.UID!==e)return;let t=this.calcYPoint();this.points.push(t),this.points.shift();let s=[],a=0;this.latestPointLength=this.points.length,this.startTimestamp=this.previousTimeStamp,this.points.forEach((e,t)=>{e*=-1;let i=this.settings.spaceX*t+this.settings.spaceX/2,n=this.settings.spaceX*t+this.settings.spaceX/2;s.push(`C ${i} ${a} ${n} ${e} ${this.settings.spaceX*(t+1)} ${e}`),a=e}),this.$line.attr("d","M 0 0 "+s.join(" ")),this.$lineFill.attr("d",`M 0 0 ${s.join(" ")} L ${this.points.length*this.settings.spaceX} 0 Z`);let i=this.maxWatt-this.minWatt,n=(this.minWatt+i*(this.currentPercentage/100)).toFixed(1);this.$text.html(n),this.$device.html(""+n),setTimeout(()=>{this.isDrawing&&this.drawGraphLine(e)},this.settings.speed)}moveMarker(e,t,s){let a=this.findY(e,t,s);return this.$marker.css("transform",`translate(${s}px,${a}px)`),a}findY(e,t,s){var a=0,i=t,n=(a+i)/2;for(s=Math.max(s,e.getPointAtLength(0).x),s=Math.min(s,e.getPointAtLength(t).x);n>=a&&n<=t;){var o=e.getPointAtLength(n);if(Math.abs(o.x-s)<.1)return o.y;o.x>s?i=n:a=n,n=(a+i)/2}}calcYPoint(){return this.settings.spaceY*(this.currentPercentage/100)}}!function(e,t){"use strict";let s,a,i,n;const o=new EnergyEstimationGraph;let r=0;const h=new HYBezierEasing(.75,1,.75,1);let d=!1;function c(){i.css("--percentage",r+"%"),n.css("--opacity",""+r/100)}e(document).ready((function(){s=e("body"),a=e(t),i=e("[data-home-energy-estimation-slider]"),n=e("[data-home-energy-estimation-light]");let l=!1;const m=e('[data-home-section-item="energy-estimation"]')[0];(new HYViewport).onInitResize(e=>{switch(e){case"xs":o.isGenerateRandomPercentage=!0,o.generateRandomPercentage(e=>{n.css("--opacity",""+e/100)}),o.settings.spaceY=220,o.settings.spaceX=52,o.settings.speed=3e3,o.settings.fillNumber=8,o.init();break;case"md":default:o.isGenerateRandomPercentage=!1,o.settings=o.settingsDefault,o.init()}},["xs","md"]);new HYIntersectionObserver({thresholds:10}).addTarget(m,(e,t)=>{t.getPercentage()>0&&!o.isDrawing&&(o.UID=(1e4*Math.random()).toFixed(0),o.start(o.UID)),t.getPercentage()>.8&&!d&&(d=!0,requestAnimationFrame(()=>function e(t=0){r=(50*h(.02*t)).toFixed(1),c(),t<50&&(t+=.5,o.currentPercentage=r,requestAnimationFrame(()=>e(t)))}())),t.getPercentage()<=0&&o.stop()}),i.on("mousedown touchstart",e=>{e.preventDefault(),l=!0,i.addClass("is-mouse-down"),s.on("mouseup.slider touchend.slider",()=>{l=!1,i.removeClass("is-mouse-down"),s.off("mouseup.slider touchend.slider"),a.off("mousemove.slider touchmove.slider")}),a.on("mousemove.slider touchmove.slider",e=>{if(l){const t=i.offset(),s=i.height(),a=(e.pageY?e.pageY:e.touches[0].pageY)-t.top;r=100-Math.round(100/s*a),r=Math.min(Math.max(0,r),100),o.currentPercentage=r.toFixed(0),c()}})})}))}(jQuery,window),function(e){"use strict";let t,s,a,i,n,o,r,h,d,c,l,m,u,g,p,f,v=0,w=0,$=new HYBezierEasing(.17,.67,.83,.67);function y(){r=0,h=0;const s=c.find("[data-home-energy-value]"),a=l.find("[data-home-energy-value]");h=C(t),r+=h,o&&(r+=C(a),n&&(r+=C(s)));e('[data-home-energy-screen-watt="total"]').text(r)}function C(t){let s=0;return t.each((t,a)=>{s+=e(a).data("home-energy-value")}),s}function b(n){let o,c;if(d=n,T())o=r-h,c="Other";else{const s=e(t[n]);o=s.data("home-energy-value"),c=s.data("home-energy-label")}s.removeClass("is-active"),e(s[n]).addClass("is-active"),i.removeClass("is-active"),e(t[n]).addClass("is-active"),n>=t.length&&a.addClass("is-active"),e('[data-home-energy-screen-watt="zone"]').text(o),e("[data-home-energy-screen-zone]").text(c)}function T(){return d>=t.length}function x(){m=15,u=15,g=0,p=0,f=(1e4*Math.random()).toFixed(0);const a=Date.now();requestAnimationFrame(()=>function a(i,o){let h=Date.now()-o;if(i!==f)return;let d=!0;const c=r-v;if(c<-1||c>1){let e=$(h/1e5)*c;v+=e,d=!1}n&&(p=360/v*195);g=p-w,(g<-1||g>1)&&(w+=g/u,d=!1);(function(){let a=function(){let s=[],a=0;t.each((t,i)=>{const n=e(i).data("home-energy-value");a+=n,s.push(360/v*n)});const i=v-a;return s.push(360/v*i),s}(),i=0;s.each((t,s)=>{const n=e(s);let o=i,r=a[t]+i-1;i+=a[t];let h=F(120,120,90,o,r);n.attr("d",h)})})(),function(){const t=e('[data-home-energy-arc-group="solar"]').find("[data-home-energy-arc-item]"),s=[359.8,w];t.each((t,a)=>{let i=s[t];e(a).attr("d",F(120,120,116,0,i))})}(),d||requestAnimationFrame(()=>a(i,o))}(f,a))}function F(e,t,s,a,i){var n=P(e,t,s,i),o=P(e,t,s,a),r=i-a<=180?"0":"1";return["M",n.x,n.y,"A",s,s,0,r,0,o.x,o.y].join(" ")}function P(e,t,s,a){var i=(a-90)*Math.PI/180;return{x:(e+s*Math.cos(i)).toFixed(2),y:(t+s*Math.sin(i)).toFixed(2)}}e(document).ready((function(){let h=!1;const m=e('[data-home-section-item="energy"]')[0],u=new HYIntersectionObserver({thresholds:10});c=e('[data-home-energy-screen-group="solar"]'),l=e('[data-home-energy-screen-group="meter"]'),i=e("[data-home-energy-screen-group]").find("[data-home-energy-value]"),t=e('[data-home-energy-screen-group="zones"]').find("[data-home-energy-value]"),a=l.find("[data-home-energy-value]"),s=e('[data-home-energy-arc-group="zones"]').find("[data-home-energy-arc-item]"),y(),function(){const t=e('[data-home-energy-switch="solar"]'),s=e('[data-home-energy-switch="meter"]');t.on("click",(function(){n?(e('[data-home-energy-arc-group="solar"]').removeClass("is-shown"),c.removeClass("is-shown"),t.removeClass("is-active")):(e('[data-home-energy-arc-group="solar"]').addClass("is-shown"),c.addClass("is-shown"),t.addClass("is-active")),n=!n,y(),x(),b(d)})),s.on("click",(function(){o=!o,y(),x(),o?(l.addClass("is-shown"),s.addClass("is-active"),b(5)):(l.removeClass("is-shown"),s.removeClass("is-active"),T()&&b(0))}))}(),s.each((t,s)=>{e(s).on("click",()=>{b(t)})}),b(0),v=10*r,u.addTarget(m,(function(e,t){t.getPercentage()>0&&!1===h&&(x(),h=!0)}))}))}(jQuery);class EnergyWallplugAnimation{"use strict";$canvas;context;img;video={width:1024,height:768};sequence={total:31,start:0,fps:25,frames:[]};file={type:"png",ratio:""};isPlaying=!1;isDoneFirstTime=!1;reverse=!1;fpsInterval;then;startTime;now;ellapsed;constructor(){this.tryHighResolution()&&(this.file.ratio="@2x",this.video.width=2048,this.video.height=1536),this.$canvas=$("[data-home-energy-wallplug-video]"),this.$canvas.width=this.video.width,this.$canvas.height=this.video.height,this.$canvas.attr("width",this.video.width),this.$canvas.attr("height",this.video.height),this.tryWebpFileType(),this.context=this.$canvas[0].getContext("2d"),this.preloadImagesToCache(this.sequence.total),this.sequence.frames[this.sequence.start].onload=()=>{this.drawFrame(this.sequence.start)}}start(){this.isPlaying=!0,this.fpsInterval=1e3/this.sequence.fps,this.then=Date.now(),this.startTime=this.then,this.currentFrame=this.reverse?this.sequence.total-1:this.sequence.start,this.reverse&&$(".home-energy-wallplug").removeClass("is-pulse"),this.animationFrame()}tryWebpFileType(){return null!==this.$canvas[0].toDataURL("image/webp").indexOf("data:image/webp")&&(this.file.type="webp",!0)}tryHighResolution(){return!1}animationFrame(){this.now=Date.now(),this.elapsed=this.now-this.then,this.elapsed>this.fpsInterval&&(this.then=this.now-this.elapsed%this.fpsInterval,this.drawFrame(this.currentFrame),(this.currentFrame>=this.sequence.total-1&&!this.reverse||this.currentFrame<=this.sequence.start&&this.reverse)&&(this.reverse||$(".home-energy-wallplug").addClass("is-pulse"),this.isPlaying=!1,this.isDoneFirstTime=!0),this.reverse?this.currentFrame--:this.currentFrame++),this.currentFrame<this.sequence.total&&this.currentFrame>=this.sequence.start&&requestAnimationFrame(()=>this.animationFrame())}drawFrame(e){let t=this.sequence.frames[e];this.context.clearRect(0,0,this.$canvas.width,this.$canvas.height),this.context.imageSmoothingEnabled=!1,this.context.drawImage(t,0,0,this.video.width,this.video.height)}preloadImagesToCache(e){for(let t=this.sequence.start;t<e;t++){let e=this.getFrame(t);this.sequence.frames[t]=this.preloadImage(e)}}preloadImage(e){var t=new Image;return t.src=e,t}getFrame(e){return`/sequence/pages/home/energy-wallplug/energy-wallplug-${e}${this.file.ratio}.${this.file.type}`}}!function(e){"use strict";let t,s,a,i,n,o,r,h,d,c,l,m,u=!1,g={space:40,speed:4e3,fillNumber:9},p=!1,f=!1,v=null,w=!1,$=!1;const y=new HYBezierEasing(.25,0,.75,1),C=new HYViewport;let b,T;function x(e){void 0===b&&(b=e);let s=e-b;if(T!==e){let e=y(1/g.speed*s)*g.space+g.space+g.space,a=e+6*g.space;i.css("transform",`translateX(${-1*e.toFixed(1)}px)`),o.css("transform",`translateX(${a.toFixed(1)}px)`);let r=Math.floor(t.getTotalLength());!function(e,t,s){let a=function(e,t,s){var a=0,i=t,n=(a+i)/2;s=Math.max(s,e.getPointAtLength(0).x),s=Math.min(s,e.getPointAtLength(t).x);for(;n>=a&&n<=t;){var o=e.getPointAtLength(n);if(Math.abs(o.x-s)<.1)return o.y;o.x>s?i=n:a=n,n=(a+i)/2}}(e,t,s);n.css("transform",`translate(${s}px,${a}px)`)}(t,r,a)}u&&(T=e,window.requestAnimationFrame(x))}e(document).ready((function(){t=document.querySelector("[data-energy-wall-plug-line]"),s=e("[data-energy-wall-plug-line]"),a=e("[data-energy-wall-plug-line-fill]"),o=e("[data-home-energy-wallplug-vertical-ruler]"),i=e("[data-energy-wall-plug-line-group]"),r=e("[data-home-energy-wallplug-text ]"),n=e("[data-home-energy-wallplug-graph-marker]"),h=e("[data-home-energy-wallplug-device]"),C.onInitResize((e,t)=>{switch(e){case"xs":g.speed=2e3,g.fillNumber=12,c=new Array(g.fillNumber),c.fill(0);break;default:g.speed=4e3,g.fillNumber=10,c=new Array(g.fillNumber),c.fill(0)}},["xs","md"]);const y=e('[data-home-section-item="energy-wallplug"]')[0];new HYIntersectionObserver({thresholds:10}).addTarget(y,(t,i)=>{t.isIntersecting!==w&&(w=t.isIntersecting,$||(d=new EnergyWallplugAnimation,$=!0)),i.getPercentage()>.1&&!u?u||(u=!0,v=(1e4*Math.random()).toFixed(0),function e(t){if(v!==t)return;let i=d.currentFrame<d.sequence.total-1?0:(100*Math.random()+50).toFixed();c.push(i),c.shift();let n=[],o=c[0];l=c.length,b=T,c.forEach((e,t)=>{e*=-1;let s=g.space*(t-1)+g.space/2,a=g.space*(t-1)+g.space/2;t>0&&n.push(`C ${s} ${o} ${a} ${e} ${g.space*t} ${e}`),o=e}),s.attr("d",`M 0 ${-1*c[0]} ${n.join(" ")}`),a.attr("d",`M 0 0 L 0 ${-1*c[0]} ${n.join(" ")} L ${(c.length-1)*g.space} 0 Z`);let m=i;r.html(m),h.find(".device-tile__unit").html(m+" <sup>w</sup>"),setTimeout(()=>{u&&e(t)},g.speed)}(v),window.requestAnimationFrame(x)):i.getPercentage()<=.1&&(u=!1,b=void 0,T=void 0);const n=e("[data-home-energy-wallplug-observer]")[0];C.down("md")?!f&&d&&(m=new HYIntersectionObserver({thresholds:d.sequence.total}),m.addTarget(n,(t,s)=>{let a=Math.round(s.getPercentage(d.sequence.start,d.sequence.total-1));d.currentFrame=a,d.drawFrame(a),a>=d.sequence.total-1?e(".home-energy-wallplug").addClass("is-pulse"):e(".home-energy-wallplug").removeClass("is-pulse")}),f=!0):(m&&m.removeTarget(n),i.getPercentage()>=.8&&!1===p?(p=!0,d.reverse=!1,!1===d.isPlaying&&d.start()):i.getPercentage()<.7&&i.isBottomIn()&&!0===p&&(p=!1,d.reverse=!0,!1===d.isPlaying&&d.start()))}),e("[data-energy-wallplug-pull]").on("click",()=>{d.reverse=!d.reverse,!1===d.isPlaying&&d.start()})}))}(jQuery),function(e){"use strict";e(document).ready((function(){const t=e('[data-home-section-item="family"]')[0];new HYIntersectionObserver({thresholds:10}).addTarget(t,(function(t,s){s.getPercentage()>=.5&&e(t.target).addClass("is-in-viewport")}))}))}(jQuery),function(e){"use strict";e(document).ready((function(){}))}(jQuery),function(e,t){"use strict";let s=!1;function a(e,t,s,a,i){let o=n(t,s,a,i);e.css("--step-1",o)}function i(e,t,s,a,i){let o=n(t,s,a,i);e.css("--step-2",o),o>.2?e.find("[data-home-flow-argument]").addClass("is-active"):e.find("[data-home-flow-argument]").removeClass("is-active")}function n(e,t,s,a){let i=0;return e.intersectionRect.height>s&&e.intersectionRect.height<a&&t.isTopIn()?i=((e.intersectionRect.height-s)/(a-s)).toFixed(2):(e.intersectionRect.height>a||t.isTopOut())&&(i=1),i}e(document).ready((function(){e("[data-home-flow-customize]");const t=e("[data-home-flow-customize-observer]"),o=e("[data-home-flow-customize-item]");let r=!1,h=t.find("[data-home-flow-customize-observer-item]")[0],d=t.find("[data-home-flow-customize-observer-item]")[1],c=t.find("[data-home-flow-customize-observer-item]")[2];const l=e(o[0]),m=e(o[1]),u=e(o[2]),g=new HYViewport,p=new HYIntersectionObserver({thresholds:200});new HYIntersectionObserver({thresholds:1}).addTarget(t[0],(t,o)=>{t.isIntersecting&&!1===r?(r=!0,p.addTarget(h,(t,o)=>{a(l,t,o,0,100),i(l,t,o,100,200),function(e,t,s,a,i){let o=n(t,s,a,i);e.css("--step-3",o)}(l,t,o,200,250),function(t,s,a,i,o){let r=n(s,a,i,o);const h=t.find("[data-home-flow-argument-item]");r>.8?(e(h[2]).removeClass("is-hover"),e(h[3]).addClass("is-hover")):r>.6?(e(h[1]).removeClass("is-hover"),e(h[2]).addClass("is-hover"),e(h[3]).removeClass("is-hover")):r>.4?(e(h[0]).removeClass("is-hover"),e(h[1]).addClass("is-hover"),e(h[2]).removeClass("is-hover")):r>.2?(e(h[0]).addClass("is-hover"),e(h[1]).removeClass("is-hover")):r<=.2&&e(h[0]).removeClass("is-hover")}(l,t,o,250,350),g.up("md")&&function(e,t,a,i,o){let r=n(t,a,i,o);const h=e.find("[data-home-flow-argument]"),d=e.find("[data-home-flow-argument-label]"),c=e.find("[data-home-flow-argument-item]:last-child");r>.5&&(!1===s&&(s=!0,d.html(c.data("text")),d.addClass("has-value")),h.removeClass("is-active"));r>.2&&r<.5&&(s=!1,d.html("..."),h.addClass("is-active"),d.removeClass("has-value"))}(l,t,o,350,400)}),p.addTarget(d,(t,s)=>{a(m,t,s,0,100),i(m,t,s,100,200),function(e,t,s,a,i){let o=n(t,s,a,i);const r=e.find("[data-home-flow-argument-label]"),h=e.find("[data-home-flow-argument-input]"),d=e.find("[data-home-flow-speech-value]").data("home-flow-speech-value"),c=Math.floor(d.length*o);0===c?(r.html(r.data("text")),r.removeClass("has-value")):(r.addClass("has-value"),r.html(d.substring(0,c)));h.html(d.substring(0,c))}(m,t,s,200,300),function(t,s,a,i,o){let r=n(s,a,i,o);const h=e('[data-home-flow-argument-popup="speech"]');t.css("--step-3",r),r>.1?h.addClass("is-active-tags-window"):h.removeClass("is-active-tags-window")}(m,t,s,300,400),function(t,s,a,i,o){let r=n(s,a,i,o);const h=t.find("[data-home-flow-argument-label]"),d=t.find("[data-home-flow-argument-input]"),c=t.find("[data-home-flow-argument-tag-item]"),l=e("[data-home-flow-customize-speech-tag]");r>.1?c.addClass("is-hover"):c.removeClass("is-hover");r>.5?(h.append(l.clone()),d.append(l.clone())):(h.find("[data-home-flow-customize-speech-tag]").remove(),d.find("[data-home-flow-customize-speech-tag]").remove());r>.9?(d.append("<span data-home-flow-customize-speech-char>!</span>"),h.append("<span data-home-flow-customize-speech-char>!</span>")):(d.find("[data-home-flow-customize-speech-char]").remove(),h.find("[data-home-flow-customize-speech-char]").remove())}(m,t,s,400,450),g.up("md")&&function(t,s,a,i,o){let r=n(s,a,i,o);const h=t.find("[data-home-flow-argument]"),d=t.find("[data-home-flow-argument-label]"),c=e('[data-home-flow-argument-popup="speech"]');r>.5?(t.css("--step-3",1-r),c.removeClass("is-active-tags-window"),d.addClass("has-value"),h.removeClass("is-active")):r>.4&&r<.5&&(c.addClass("is-active-tags-window"),h.addClass("is-active"))}(m,t,s,450,500)}),p.addTarget(c,(t,s)=>{a(u,t,s,0,100),i(u,t,s,100,200),function(t,s,a,i,o){let r=50*n(s,a,i,o);const h=t.find("[data-home-flow-argument-label]");e("[data-home-flow-argument-slider]").val(r).css("--webkit-range-progress",r),r>0?(h.html(Math.round(r)+"%"),h.addClass("has-value")):(h.html(h.data("text")),h.removeClass("has-value"))}(u,t,s,200,300),g.up("md")&&function(t,s,a,i,o){let r=n(s,a,i,o);const h=t.find("[data-home-flow-argument]"),d=t.find("[data-home-flow-argument-label]"),c=e('[data-home-flow-argument-popup="speech"]');t.css("--step-3",1-r),r>.5?(c.removeClass("is-active-tags-window"),d.addClass("has-value"),h.removeClass("is-active")):r>.3&&r<.5&&(c.addClass("is-active-tags-window"),h.addClass("is-active"))}(u,t,s,300,350)})):t.isIntersecting||!0!==r||(r=!1,p.removeTarget(h),p.removeTarget(d),p.removeTarget(c))})}))}(jQuery,window),function(e,t){e(document).ready((function(){$container=e("[data-home-flow-examples-container]"),$dragger=e("[data-home-flow-examples-dragger]"),$content=e("[data-home-flow-examples-content]"),$dots=e("[data-home-flow-examples-dots]"),$window=e(t);new HYSlider({$:e,$window:$window,$container:$container,$dragger:$dragger,$content:$content,$dots:$dots,manualWidth:{xs:304,md:304}}).init()}))}(jQuery,window);class FlowInteractiveAnimation{"use strict";$canvas;context;img;sequence={total:31,start:1,fps:25,frames:[]};fileType="png";fileRatio="";isPlaying=!1;isDoneFirstTime=!1;reverse=!1;fpsInterval;then;startTime;now;ellapsed;constructor(){this.$canvas=$("[data-home-flow-interactive-video]"),this.$canvas.width=500,this.$canvas.height=500,this.context=this.$canvas[0].getContext("2d"),this.tryWebpFileType(),this.preloadImagesToCache(this.sequence.total),this.sequence.frames[this.sequence.start].onload=()=>{this.drawFrame(this.sequence.start)}}start(){this.isAnimationStartedFirstTime=!0,this.isPlaying=!0,this.fpsInterval=1e3/this.sequence.fps,this.then=Date.now(),this.startTime=this.then,this.currentFrame=this.reverse?this.sequence.total:this.sequence.start,this.animationFrame()}tryWebpFileType(){null!==this.$canvas[0].toDataURL("image/webp").indexOf("data:image/webp")&&(this.fileType="webp")}tryHighResolution(){window.devicePixelRatio>1&&(this.fileRatio="@2x")}animationFrame(){this.now=Date.now(),this.elapsed=this.now-this.then,this.elapsed>this.fpsInterval&&(this.then=this.now-this.elapsed%this.fpsInterval,this.drawFrame(this.currentFrame),(this.currentFrame>=this.sequence.total&&!this.reverse||this.currentFrame<=this.sequence.start&&this.reverse)&&(this.isPlaying=!1,this.isDoneFirstTime=!0),this.reverse?this.currentFrame--:this.currentFrame++),this.currentFrame<=this.sequence.total&&this.currentFrame>=this.sequence.start&&requestAnimationFrame(()=>this.animationFrame())}drawFrame(e){let t=this.sequence.frames[e];this.context.clearRect(0,0,this.$canvas.width,this.$canvas.height),this.context.imageSmoothingEnabled=!1,this.context.drawImage(t,0,0,500,500)}preloadImagesToCache(e){for(let t=this.sequence.start;t<=e;t++){let e=this.getFrame(t);this.sequence.frames[t]=this.preloadImage(e)}}preloadImage(e){var t=new Image;return t.src=e,t}getFrame(e){return`/sequence/pages/home/door-sensor/${e}.${this.fileType}`}}!function(e){"use strict";let t,s=!1,a=!1;function i(){s=!0,t.start(),setTimeout((function(){e('[data-home-flow-interactive-card="1"]').addClass("is-active"),e('[data-home-flow-interactive-arrow="1"]').addClass("is-active")}),1e3),setTimeout((function(){e('[data-home-flow-interactive-card="2"]').addClass("is-active")}),3e3),setTimeout((function(){e('[data-home-flow-interactive-card="2"]').addClass("is-active-check")}),3500),setTimeout((function(){e('[data-home-flow-interactive-arrow="2"]').addClass("is-active")}),4e3),setTimeout((function(){e('[data-home-flow-interactive-card="3"]').addClass("is-active"),e("[data-home-flow-interactive-light]").addClass("is-active-light")}),6e3),setTimeout((function(){e('[data-home-flow-interactive-card="3"]').addClass("is-active-check")}),6500),setTimeout((function(){e("[data-home-flow-interactive-replay]").addClass("is-visible")}),7500)}e(document).ready((function(){e("[data-home-flow-interactive-replay]").on("click",(function(){e("[data-home-flow-interactive-card]").removeClass("is-active").removeClass("is-active-check"),e("[data-home-flow-interactive-arrow]").removeClass("is-active"),e("[data-home-flow-interactive-light]").removeClass("is-active-light"),e(this).removeClass("is-visible"),setTimeout(()=>{i()},100)}));const n=e('[data-home-section-item="flow"]')[0];new HYIntersectionObserver({thresholds:10}).addTarget(n,(function(e,n){e.isIntersecting&&!a&&(a=!0,t=new FlowInteractiveAnimation),n.getPercentage()>=.9&&!1===s&&i()}))}))}(jQuery),function(e,t){"use strict";let s=1,a=null;let i,n,o,r,h,d;function c(){n.removeClass("is-active"),o.removeClass("is-active"),o.removeClass("is-previous-active"),i.find(`[data-home-flow-tabs-item=${a}]`).addClass("is-previous-active"),i.find(`[data-home-flow-tabs-item=${s}]`).addClass("is-active"),i.find(`[data-home-flow-tabs-target=${s}]`).addClass("is-active"),setTimeout((function(){i.find(`[data-home-flow-tabs-item=${a}]`).removeClass("is-previous-active"),a=s}),200),5===s?(h.addClass("is-disabled"),h.prop("disabled",!0)):(h.removeClass("is-disabled"),h.prop("disabled",!1)),1===s?(d.addClass("is-disabled"),d.prop("disabled",!0)):(d.removeClass("is-disabled"),d.prop("disabled",!1))}e(document).ready((function(){i=e("[data-home-flow-tabs]"),n=e("[data-home-flow-tabs-target]"),o=i.find("[data-home-flow-tabs-item]"),r=i.find("[data-home-flow-flows]"),h=e("[data-home-flow-tabs-next]"),d=e("[data-home-flow-tabs-previous]"),c(),d.on("click",(function(){s>1&&(a=s,s-=1,c())})),h.on("click",(function(){s<5&&(a=s,s+=1,c())})),n.on("click",(function(){const t=e(this);n.removeClass("is-active"),t.addClass("is-active"),s=t.data("home-flow-tabs-target"),c()}));const t=new HYViewport;t.onInitResize(()=>{!function(){let t=0;r.css("min-height","0px"),o.each((s,a)=>{const i=e(a).outerHeight();t=i>t?i:t});r.css("min-height",t+20+"px")}()},["md","lg"]),t.onResize(()=>{r.css("min-height","")},["md"],"lesserThen")}))}(jQuery,window),function(e){"use strict";let t,s,a,i,n,o,r,h,d,c,l,m,u,g,p,f,v=[],w=[],$=!1,y=60,C=4e3,b=19,T=!1;function x(e){void 0===g&&(g=e);if(p!==e){let a=(e-g)/C*y+1*y,n=a+y*b/2-y;t.css("transform",`translateX(${-1*a.toFixed(1)}px)`),s.css("transform",`translateX(${n.toFixed(1)}px)`),I(i,n,r,h),I(d,n,m,u)}$&&(p=e,window.requestAnimationFrame(x))}function F(e,t,s){e.push(P()),e.shift();let a=[],i=0;e.forEach((e,t)=>{e*=-1;let s=y*t+y/2,n=y*t+y/2;a.push(`C ${s} ${i} ${n} ${e} ${y*(t+1)} ${e}`),i=e}),t.attr("d","M 0 0 "+a.join(" ")),s.attr("d",`M 0 0 ${a.join(" ")} L ${e.length*y} 0 Z`)}function P(){return(200*Math.random()).toFixed()}function I(e,t,s,a){let i=Math.floor(e.getTotalLength()),n=function(e,t,s){var a=0,i=t,n=(a+i)/2;s=Math.max(s,e.getPointAtLength(0).x),s=Math.min(s,e.getPointAtLength(t).x);for(;n>=a&&n<=t;){var o=e.getPointAtLength(n);if(Math.abs(o.x-s)<.1)return o.y;o.x>s?i=n:a=n,n=(a+i)/2}}(e,i,t);return a.text((22+n/100).toFixed(1)),s.css("transform",`translate(${t}px,${n}px)`),n}e(document).ready((function(){i=document.querySelector('[data-insights-graphs-mob-line="orange"]'),n=e('[data-insights-graphs-mob-line="orange"]'),o=e('[data-insights-graphs-mob-line-fill="orange"]'),r=e('[data-insights-graphs-mob-marker="orange"]'),h=e('[data-home-insights-graph-mob-current="orange"]'),d=document.querySelector('[data-insights-graphs-mob-line="blue"]'),c=e('[data-insights-graphs-mob-line="blue"]'),l=e('[data-insights-graphs-mob-line-fill="blue"]'),m=e('[data-insights-graphs-mob-marker="blue"]'),u=e('[data-home-insights-graph-mob-current="blue"]'),s=e("[data-insights-graphs-mob-vertical-ruler]"),t=e("[data-insights-graphs-mob-line-group]"),a=e("[data-insights-graphs-mob-text ]"),f=e("[data-home-insights-graph-mob-date]");for(let e=0;e<b;e++)v.push(P()),w.push(P());const y=e('[data-home-section-item="insights-graphs-mob"]')[0];new HYIntersectionObserver({thresholds:1}).addTarget(y,(function(e){var t;e.isIntersecting&&!$?(T=(1e4*Math.random()).toFixed(0),t=T,$||($=!0,function e(t){T===t&&(g=p,F(v,n,o),F(w,c,l),function(){var e=new Date;let t=e.getHours(),s=e.getMinutes();s<10&&(s="0"+s),f.text(`${function(){var e=new Date,t=[];return t[0]="Jan",t[1]="Feb",t[2]="Mar",t[3]="Apr",t[4]="May",t[5]="Jun",t[6]="Jul",t[7]="Aug",t[8]="Sep",t[9]="Oct",t[10]="Nov",t[11]="Dec",e.getDate()+" "+t[e.getMonth()]+" "+e.getFullYear()}()} ${t}:${s}`)}(),setTimeout(()=>{$&&e(t)},C))}(t),window.requestAnimationFrame(x))):e.isIntersecting||($=!1,g=void 0,p=void 0)}))}))}(jQuery),function(e){"use strict";let t,s,a,i,n,o,r,h,d,c,l,m;function u(e){o.style.setProperty("--x",e+"px")}function g(e,t,s){let a=Math.min(t,s),i=8+e/265,o=i.toString().split(".")[0],r=(60*(i-o)).toFixed(0);var h,l;1===r.length&&(r="0"+r),m.text(`${h=new Date,l=[],l[0]="Jan",l[1]="Feb",l[2]="Mar",l[3]="Apr",l[4]="May",l[5]="Jun",l[6]="Jul",l[7]="Aug",l[8]="Sep",l[9]="Oct",l[10]="Nov",l[11]="Dec",h.getDate()+" "+l[h.getMonth()]+" "+h.getFullYear()} ${o}:${r}`),d.text(p(t)),c.text(p(s)),n.css("--x",e+"px"),n.css("--y",a+"px")}function p(e){return(23-e/50).toFixed(1)}function f(e,t,s,a){let i=function(e,t,s){var a=0,i=t,n=(a+i)/2;s=Math.max(s,e.getPointAtLength(0).x),s=Math.min(s,e.getPointAtLength(t).x);for(;n>=a&&n<=t;){var o=e.getPointAtLength(n);if(Math.abs(o.x-s)<.1)return o.y;o.x>s?i=n:a=n,n=(a+i)/2}}(e,s,a);return t.css("transform",`translate(${a}px,${i}px)`),i}e(document).ready((function(){l=e("[data-home-insights-graph]"),t=document.querySelector('[data-home-insights-graph-line="orange"]'),s=document.querySelector('[data-home-insights-graph-line="blue"]'),a=e('[data-home-insights-graph-marker="orange"]'),i=e('[data-home-insights-graph-marker="blue"]'),n=e("[data-home-insights-graph-info]"),d=e('[data-home-insights-graph-current="orange"]'),c=e('[data-home-insights-graph-current="blue"]'),m=e("[data-home-insights-graph-date]"),o=document.querySelector("[data-home-insights-graph-dash]"),r=Math.floor(t.getTotalLength()),h=Math.floor(s.getTotalLength());let p=300,v=f(t,a,r,p),w=f(s,i,h,p);u(p),g(p,v,w),l.on("mousemove",(function(e){let n=l.offset(),o={left:e.pageX-n.left-45}.left;if(o>0){let e=f(t,a,r,o),n=f(s,i,h,o);u(o),g(o,e,n)}}))}))}(jQuery),function(e,t){"use strict";e(document).ready((function(){const s=e(t),a=e("[data-home-insights-menus-container]"),i=e("[data-home-insights-menus-dragger]"),n=e("[data-home-insights-menus-content]"),o=e("[data-home-insights-menus-dots]");new HYSlider({$:e,$window:s,$container:a,$dragger:i,$content:n,$dots:o,manualWidth:{xs:280,md:280}}).init(),e("[data-home-insights-toggle]").each((t,s)=>{e(s).on("click",(function(){const t=e(this);t.hasClass("is-selected")?(t.removeClass("is-selected"),t.addClass("was-selected")):(t.addClass("is-selected"),t.removeClass("was-selected"))}))})}))}(jQuery,window);class HomeIntroAnimation{"use strict";$canvas;context;img;video={width:960,height:600};sequence={total:121,start:0,fps:25,frames:[],base:null,loaded:0};file={type:"png",ratio:""};isPause=!0;isDoneFirstTime=!1;reverse=!1;fpsInterval;then;startTime;now;ellapsed;UID=null;constructor(){this.$canvas=$("[data-home-intro-video]"),this.tryWebpFileType(),this.context=this.$canvas[0].getContext("2d"),this.preloadImagesToCache(this.sequence.total)}start(){this.fpsInterval=1e3/this.sequence.fps,this.then=performance.now(),this.startTime=this.then,this.currentFrame=this.sequence.start;let e=this.getUID();this.UID=e,this.animationFrame(e)}pause(){this.isPause=!0}continue(){this.isPause=!1;let e=this.getUID();this.UID=e,this.animationFrame(e)}tryWebpFileType(){return null!==this.$canvas[0].toDataURL("image/webp").indexOf("data:image/webp")&&(this.file.type="webp",!0)}tryHighResolution(){return!1}animationFrame(e){this.isPause||e!==this.UID||(this.now=performance.now(),this.elapsed=this.now-this.then,this.elapsed>this.fpsInterval&&!0===this.sequence.loaded&&(this.then=this.now-this.elapsed%this.fpsInterval,this.drawFrame(this.currentFrame),this.currentFrame++,this.currentFrame>=this.sequence.total&&(this.currentFrame=this.sequence.start)),requestAnimationFrame(()=>this.animationFrame(e)))}drawFrame(e){let t=this.sequence.frames[e];this.context.clearRect(0,0,this.video.width,this.video.height),this.context.imageSmoothingEnabled=!1,this.context.drawImage(t,0,0,this.video.width,this.video.height)}preloadImagesToCache(e){for(let t=this.sequence.start;t<e;t++){let e=this.getFrame(t);const s=this.preloadImage(e);this.sequence.frames[t]=s,s.onload=()=>{this.sequence.loaded++,this.sequence.loaded>=this.sequence.total&&(this.sequence.loaded=!0)}}this.sequence.base=this.preloadImage(this.getBaseFrame())}preloadImage(e){var t=new Image;return t.src=e,t}getFrame(e){return`/sequence/pages/home/hero/hero.${e}${this.file.ratio}.${this.file.type}`}getBaseFrame(){return`/sequence/pages/home/hero/base${this.file.ratio}.${this.file.type}`}getUID(){return Math.random()}}!function(e){"use strict";e(document).ready((function(){const t=e("[data-home-intro-video]")[0],s=new HYIntersectionObserver({thresholds:0});let a=!1;const i=new HomeIntroAnimation;i.start(),s.addTarget(t,(function(e,t){e.isIntersecting!==a&&(a=e.isIntersecting,!0===a?i.continue():i.pause())}))})),e("[data-home-intro-more]").on("click",(function(){const t=e(this).attr("href"),s=e(t);s.length<=0||e([document.documentElement,document.body]).animate({scrollTop:s.offset().top-100},500)}))}(jQuery),function(e){"use strict";e(document).ready((function(){const t=e("[data-home-privacy]")[0];new HYIntersectionObserver({thresholds:10}).addTarget(t,(function(t,s){s.getPercentage()>=.5&&e(t.target).addClass("is-in-viewport")}))}))}(jQuery),function(e,t){"use strict";let s=!1;e(document).ready((function(){e("body");const a=e(t),i=e('[data-home-section="reviews"]'),n=e("[data-home-reviews]"),o=e("[data-home-reviews-dragger]"),r=e("[data-home-reviews-content]"),h=e("[data-home-reviews-prev]"),d=e("[data-home-reviews-next]");new HYSlider({$:e,$window:a,$container:n,$dragger:o,$content:r,$buttonPrev:h,$buttonNext:d,infinity:!0,manualWidth:{xs:316,md:382}}).init();const c=e("[data-home-reviews-item]"),l=new HYIntersectionObserver({thresholds:1}),m=new HYIntersectionObserver({root:n[0],rootMargin:"0px -20%",thresholds:20});l.addTarget(i[0],(t,a)=>{t.isIntersecting&&!1===s?(s=!0,c.each((t,s)=>{m.addTarget(c[t],(function(t,s){e(t.target).css("--opacity",Math.ceil(100*s.getPercentage(.2,1))/100),e(t.target).css("--scale",Math.ceil(100*s.getPercentage(.9,1))/100),s.getPercentage()>=.9?e(t.target).addClass("is-in-viewport"):e(t.target).removeClass("is-in-viewport")}))})):t.isIntersecting||!0!==s||(s=!1,c.each((e,t)=>{m.removeTarget(t)}))})}))}(jQuery,window),function(e){"use strict";let t=!1,s=!1,a=!1;e(document).ready((function(){s=e("[data-home-toc]"),a=s.find("a"),function(){const t=e(window.location.hash);if(t.length<=0)return;window.location.hash&&e([document.documentElement,document.body]).scrollTop(t.offset().top-100)}(),a.on("click",(function(){const t=e(this).attr("href"),s=e(t);s.length<=0||e([document.documentElement,document.body]).animate({scrollTop:s.offset().top-100},500)})),function(){const i=e("[data-home-section]");let n=[];const o=new IntersectionObserver(e=>{var i;e.forEach(e=>{const t=e.intersectionRect.height/window.innerHeight,s=Math.max(e.intersectionRatio,t),a=e.target.id;n[a]=s}),i=n,t=Object.keys(i).reduce((e,t)=>i[e]>i[t]?e:t),a.removeClass("is-current"),s.find(`[href="#${t}"]`).addClass("is-current")},{root:null,rootMargin:"100px",threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]});i.each((e,t)=>{o.observe(t)})}()}))}(jQuery);