!function(e){"use strict";e(document).ready((function(){const t=e("[data-homey-pro-backups]"),s=e("[data-homey-pro-backups-item]"),i=e("[data-homey-pro-backups-observer]")[0];new HYIntersectionObserver({thresholds:25}).addTarget(i,(function(i,a){let n=a.getPercentage(30,50);t.css("--backups-percentage",n+"%"),n>=49?e(s[2]).addClass("is-backup-created"):e(s[2]).removeClass("is-backup-created")}))}))}(jQuery);class HomeyProHeroAnimation{$canvas;context;img;video={width:808,height:914};sequence={total:121,start:0,fps:25,frames:[],base:null};file={type:"png",ratio:""};isPlaying=!1;isDoneFirstTime=!1;reverse=!1;fpsInterval;then;startTime;now;ellapsed;constructor(){this.tryHighResolution()&&(this.file.ratio="@2x",this.video.width=808,this.video.height=914),this.$canvas=$("[data-homey-pro-hero-canvas]"),this.$canvas.width=this.video.width,this.$canvas.height=this.video.height,this.$canvas.attr("width",this.video.width),this.$canvas.attr("height",this.video.height),this.tryWebpFileType(),this.context=this.$canvas[0].getContext("2d"),this.preloadImagesToCache(this.sequence.total),this.sequence.frames[this.sequence.start].onload=()=>{this.drawFrame(this.sequence.start)}}start(){this.isAnimationStartedFirstTime=!0,this.isPlaying=!0,this.fpsInterval=1e3/this.sequence.fps,this.then=performance.now(),this.startTime=this.then,this.currentFrame=this.sequence.start,requestAnimationFrame(()=>this.animationFrame())}pause(){this.isPause=!0}continue(){this.isPause=!1,requestAnimationFrame(()=>this.animationFrame())}tryWebpFileType(){return null!==this.$canvas[0].toDataURL("image/webp").indexOf("data:image/webp")&&(this.file.type="webp",!0)}tryHighResolution(){return!1}animationFrame(){this.isPause||(this.now=performance.now(),this.elapsed=this.now-this.then,this.elapsed>this.fpsInterval&&(this.then=this.now-this.elapsed%this.fpsInterval,this.drawFrame(this.currentFrame)),requestAnimationFrame(()=>this.animationFrame()))}drawFrame(e){let t=this.sequence.frames[e];this.context.clearRect(0,0,this.$canvas.width,this.$canvas.height),this.context.imageSmoothingEnabled=!1;try{this.context.drawImage(t,0,0,this.video.width,this.video.height)}catch(e){console.log(e)}}preloadImagesToCache(e){for(let t=this.sequence.start;t<e;t++){let e=this.getFrame(t);this.sequence.frames[t]=this.preloadImage(e)}}preloadImage(e){var t=new Image;return t.src=e,t}getFrame(e){return`/sequence/pages/homey-pro/hero/hero.${e}${this.file.ratio}.${this.file.type}`}}!function(e){"use strict";const t=new HomeyProHeroAnimation;let s,i,a=0,n=0,o=0,r=null,h=null,c=!1;function d(e){return e>n&&e>o||e<n&&e<o}function l(e){t.currentFrame=e;let i=1/70*(e-10);i<0?i=0:i>1&&(i=1),e>=t.sequence.total-10?(s.css("--pointers-percentage",1-.1*(t.sequence.total-e)),s.addClass("is-hero-done")):s.removeClass("is-hero-done"),s.css("--percentage",i.toFixed(2))}function u(e){e>1500&&(e=1500);let s=Math.round(t.sequence.total/1500*e);return s<t.sequence.start?s=t.sequence.start:s>=t.sequence.total&&(s=t.sequence.total-1),s}e(document).ready((function(){const m=e('[data-homey-pro-section="hero"]')[0];s=e("[data-homey-pro-container]").first(),i=e("[data-homey-pro-hero-header]").first(),t.start();new HYIntersectionObserver({thresholds:0}).addTarget(m,(function(s,i){c!==s.isIntersecting&&(c=s.isIntersecting,c?(t.continue(),e(window).on("scroll.hero",()=>{!function(){let t=e(window).scrollTop(),s=performance.now(),i=u(t);d(t)&&l(i);let c=(s-a)/2,m=t+(t-n)/2,p=Math.random();r=p,c<100&&d(t)&&(clearTimeout(h),h=setTimeout((function(){!function(e,t){if(r!==e)return;l(u(t))}(p,m)}),c));a=s,n=t,d(m)&&(o=m)}()})):(e(window).off("scroll.hero"),t.pause()))}))}))}(jQuery);class HomeyProHighlightSlider extends HYSlider{infinityGap=32;init(){super.init()}initDotHandlers(){super.initDotHandlers();const e=this;this.$dots.children().on("mouseover",(function(t){e.dotEvent(t);const s=$(this).data("homey-pro-hero-pointer");e.setHighlight(s)})),this.$dots.children().on("mouseout",(function(e){$("[data-homey-pro-hero-pointer-label]").removeClass("is-visible")})),$(window).on("scroll",(function(e){$("[data-homey-pro-hero-pointer-label]").removeClass("is-visible")}))}setCurrentDot(){super.setCurrentDot();const e=$(this.$dots.children()[this.currentID]).data("homey-pro-hero-pointer");this.setHighlight(e)}setHighlight(e){$("[data-homey-pro-hero-pointer-label]").removeClass("is-visible"),$(`[data-homey-pro-hero-pointer-label="${e}"]`).addClass("is-visible")}}!function(e,t){"use strict";let s=!1;e(document).ready((function(){e("body");const i=e(t),a=e('[data-homey-pro-section="highlights"]'),n=e("[data-homey-pro-highlights]"),o=e("[data-homey-pro-highlights-dragger]"),r=e("[data-homey-pro-highlights-content]"),h=e("[data-homey-pro-highlights-dots]"),c=e("[data-homey-pro-highlights-prev]"),d=e("[data-homey-pro-highlights-next]");new HomeyProHighlightSlider({$:e,$window:i,$container:n,$dragger:o,$content:r,$buttonPrev:c,$buttonNext:d,$dots:h,infinity:!0,manualWidth:{xs:332,md:382},animationDuration:500}).init();const l=e("[data-homey-pro-highlight-item]"),u=new HYIntersectionObserver({thresholds:1}),m=new HYIntersectionObserver({root:n[0],rootMargin:"0px -20%",thresholds:20});u.addTarget(a[0],(t,i)=>{t.isIntersecting&&!1===s?(s=!0,l.each((t,s)=>{m.addTarget(l[t],(function(t,s){e(t.target).css("--opacity",Math.ceil(100*s.getPercentage(.2,1))/100),e(t.target).css("--scale",Math.ceil(100*s.getPercentage(.6,1))/100),s.getPercentage()>=.9?e(t.target).addClass("is-in-viewport"):e(t.target).removeClass("is-in-viewport")}))})):t.isIntersecting||!0!==s||(s=!1,l.each((e,t)=>{m.removeTarget(t)}))})}))}(jQuery,window),function(e){"use strict";e(document).ready((function(){const t=e("[data-homey-pro-homeyscript-device]"),s=e("[data-homey-pro-homeyscript-code]"),i=e("[data-homey-pro-homeyscript-test]"),a=s.find(".rule"),n=e('[data-homey-pro-section="homeyscript"]')[0],o=new HYIntersectionObserver({thresholds:10});let r=!1;o.addTarget(n,(e,t)=>{t.getPercentage()>.9&&(i.trigger("click"),r=!0,o.removeTarget(n))}),s.html(""),t.on("click",(function(){r=!0,e(this).toggleClass("is-off")})),i.on("click",(function(){t.toggleClass("is-off"),a.each((function(e){setTimeout(()=>{s.append(this.cloneNode(!0)),s.parent().scrollTop(s.parent().prop("scrollHeight"))},100*e)}))}))}))}(jQuery);class HomeyProRearAnimation{"use strict";$canvas;context;img;video={width:960,height:600};sequence={total:121,start:0,fps:25,frames:[],loaded:0};file={type:"png",ratio:""};isPause=!0;isDoneFirstTime=!1;reverse=!1;fpsInterval;then;startTime;now;ellapsed;UID=null;constructor(){this.$canvas=$("[data-homey-pro-rear-video]"),this.tryWebpFileType(),this.context=this.$canvas[0].getContext("2d"),this.preloadImagesToCache(this.sequence.total)}start(){this.fpsInterval=1e3/this.sequence.fps,this.then=performance.now(),this.startTime=this.then,this.currentFrame=this.sequence.start;let e=this.getUID();this.UID=e,this.animationFrame(e)}pause(){this.isPause=!0}continue(){this.isPause=!1;let e=this.getUID();this.UID=e,this.animationFrame(e)}tryWebpFileType(){return null!==this.$canvas[0].toDataURL("image/webp").indexOf("data:image/webp")&&(this.file.type="webp",!0)}tryHighResolution(){return!1}animationFrame(e){this.isPause||e!==this.UID||(this.now=performance.now(),this.elapsed=this.now-this.then,this.elapsed>this.fpsInterval&&!0===this.sequence.loaded&&(this.then=this.now-this.elapsed%this.fpsInterval,this.drawFrame(this.currentFrame),this.currentFrame++,this.currentFrame>=this.sequence.total&&(this.currentFrame=this.sequence.start)),requestAnimationFrame(()=>this.animationFrame(e)))}drawFrame(e){let t=this.sequence.frames[e];this.context.clearRect(0,0,this.video.width,this.video.height),this.context.imageSmoothingEnabled=!1,this.context.drawImage(t,0,0,this.video.width,this.video.height)}preloadImagesToCache(e){for(let t=this.sequence.start;t<e;t++){let e=this.getFrame(t);const s=this.preloadImage(e);this.sequence.frames[t]=s,s.onload=()=>{this.sequence.loaded++,this.sequence.loaded>=this.sequence.total&&(this.sequence.loaded=!0)}}}preloadImage(e){var t=new Image;return t.src=e,t}getFrame(e){return`/sequence/pages/homey-pro/rear/light.${e}${this.file.ratio}.${this.file.type}`}getUID(){return Math.random()}}!function(e){"use strict";e(document).ready((function(){const t=e("[data-homey-pro-rear-video]")[0],s=new HYIntersectionObserver({thresholds:0});let i=null,a=!1,n=!1;s.addTarget(t,(function(e,t){e.isIntersecting!==a&&(a=e.isIntersecting,n||(n=!0,i=new HomeyProRearAnimation,i.start()),!0===a?i.continue():i.pause())}))}))}(jQuery),function(e){"use strict";let t,s,i,a=null,n=null,o=0;const r={default:[768,10],"wi-fi":[48,96],bluetooth:[48,96],zigbee:[48,96],"z-wave":[96,96],"868-mhz":[192,96],"433-mhz":[384,96],infrared:[48,96]};function h(e){t.removeClass("is-"+a),t.addClass("is-"+e),t.addClass("is-pattern-pause"),function(e,a){const h=r[e],c=r[a];n=h,o=performance.now(),window.requestAnimationFrame(()=>{!function e(a,r){let h=performance.now()-o;o=performance.now();let c=(r[0]-a[0])/15*(h/60),d=(r[1]-a[1])/15*(h/60),l=n[0]+c,u=n[1]+d;n=function(e,t,s){let i,a;i=s[0]>t[0]?Math.min(e[0],s[0]):Math.max(e[0],s[0]);a=s[1]>t[1]?Math.min(e[1],s[1]):Math.max(e[1],s[1]);return[i,a]}([l,u],a,r),function(e=48,t=96){let a=e/4,n=t/-2,o=t/2,r=`\n      M${a/-1}, ${o}\n      C${0*a},${o}    ${0*a},${n}  ${1*a},${n}\n      C${2*a},${n}   ${2*a},${o}   ${3*a},${o}\n      C${4*a},${o}    ${4*a},${n}  ${e+a},${n}`;i.attr("width",e),s.attr("d",r)}(n[0],n[1]),a[0]<r[0]&&n[0]<r[0]||a[1]<r[1]&&n[1]<r[1]||a[0]>r[0]&&n[0]>r[0]||a[1]>r[1]&&n[1]>r[1]?window.requestAnimationFrame(()=>{e(a,r)}):t.removeClass("is-pattern-pause")}(h,c)})}(a,e),a=e}e(document).ready((function(){let n=e("[data-homey-pro-waves]")[0];t=e("[data-homey-pro-waves]").first(),s=e("[data-homey-pro-waves-path]").first(),i=e("[data-homey-pro-waves-pattern]").first();const o=e("[data-homey-pro-waves-button]");a="default",h("default"),o.on("click",(function(){const t=e(this);let s=t.data("homey-pro-waves-button");o.removeClass("is-active"),a===s?s="default":t.addClass("is-active"),h(s)}));const r=new HYIntersectionObserver({thresholds:10});r.addTarget(n,(function(t,s){s.getPercentage()>.8&&(h("wi-fi"),e('[data-homey-pro-waves-button="wi-fi"]').addClass("is-active"),r.removeTarget(n))}))}))}(jQuery),function(e){"use strict";e(document).ready((function(){new HYToc({target:e("[data-homey-pro-toc]")}).init();new HYDarkmode({target:1,thresholds:50}).init()}))}(jQuery);